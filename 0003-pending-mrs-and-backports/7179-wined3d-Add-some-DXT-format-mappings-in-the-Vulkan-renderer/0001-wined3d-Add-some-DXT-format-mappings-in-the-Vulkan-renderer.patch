From 465388ba38a69946f4e80561918a2b7f86472b3d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Aida=20Jonikien=C4=97?= <aidas957@gmail.com>
Date: Thu, 23 Jan 2025 12:05:48 +0200
Subject: [PATCH] wined3d: Add some DXT format mappings in the Vulkan renderer.

This removes some texture errors when using Himavant.
---
 dlls/wined3d/utils.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/dlls/wined3d/utils.c b/dlls/wined3d/utils.c
index f4036eed726..1ed25026a63 100644
--- a/dlls/wined3d/utils.c
+++ b/dlls/wined3d/utils.c
@@ -4263,6 +4263,9 @@ static void init_vulkan_format_info(struct wined3d_format_vk *format,
         {WINED3DFMT_B5G6R5_UNORM,               VK_FORMAT_R5G6B5_UNORM_PACK16,     },
         {WINED3DFMT_B5G5R5A1_UNORM,             VK_FORMAT_A1R5G5B5_UNORM_PACK16,   },
         {WINED3DFMT_B4G4R4A4_UNORM,             VK_FORMAT_R4G4B4A4_UNORM_PACK16,   "YZWX"},
+        {WINED3DFMT_DXT1,                       VK_FORMAT_BC1_RGB_UNORM_BLOCK,     },
+        {WINED3DFMT_DXT3,                       VK_FORMAT_BC2_UNORM_BLOCK,         },
+        {WINED3DFMT_DXT5,                       VK_FORMAT_BC3_UNORM_BLOCK,         },
         {WINED3DFMT_BC1_UNORM,                  VK_FORMAT_BC1_RGBA_UNORM_BLOCK,    },
         {WINED3DFMT_BC1_UNORM_SRGB,             VK_FORMAT_BC1_RGBA_SRGB_BLOCK,     },
         {WINED3DFMT_BC2_UNORM,                  VK_FORMAT_BC2_UNORM_BLOCK,         },
-- 
GitLab

